meta {
  name: Get event for messages
  type: http
  seq: 2
}

get {
  url: {{apiGatewayUrl}}/api/v1/messages/events?limit=1&offset=0
  body: none
  auth: bearer
}

params:query {
  limit: 1
  offset: 0
}

auth:bearer {
  token: {{accessToken}}
}

vars:post-response {
  messageId: res.body.data[0].messageId
}

assert {
  res.body.data.length: eq 1
  res.body.data[0].messageId: isDefined
}

settings {
  encodeUrl: true
  timeout: 0
}
